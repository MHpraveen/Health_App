<Slot_Booking>:
    BoxLayout:
        orientation: 'vertical'

        MDIconButton:
            icon: "arrow-left"
            pos_hint: {"center_y": .91}
            user_font_size: "20sp"
            theme_text_color: "Custom"
            text_color: rgba(71, 92, 119, 255)
            on_release:
                root.slot_booking_back_button(self)

        ScrollView:
            GridLayout:
                cols: 1
                spacing: dp(10)
                padding: dp(10)
                size_hint_y: None
                height: self.minimum_height
                BoxLayout:
                    orientation: 'vertical'
                    spacing: 0
                    size_hint_y: None
                    height: dp(100)

                    MDCard:
                        orientation: 'vertical'
                        size_hint: None, None
                        size: "280dp", "100dp"
                        size_hint: (1, 1)
                        elevation: 1
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                        MDLabel:
                            text: "Book a Slot"
                            font_name: "Roboto"
                            size_hint_x: 1
                            halign: "center"
                            valign: "top"
                            bold: True
                            color: 1, 0, 0, 1
                            pos_hint: {"top": 1, "center_x": 0.5}
                            canvas:
                                Color:
                                    rgba: 0, 0, 0, 1  # Red color with RGBA values
                                Line:
                                    points: [self.x, self.y - 2, self.x + self.width, self.y - 2]
                                    width: 1
                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 0
                            size_hint_y: None
                            height: dp(70)
                            md_bg_color: 1, 1, 1, 1
                            BoxLayout:
                                size_hint: None, None
                                size: dp(285), dp(70)
                                pos_hint: {"center_x": 0.5, "center_y": 1}


                                GridLayout:
                                    cols: 4
                                    spacing: dp(15)
                                    size_hint_y: None
                                    pos_hint: {"center_x": 0.5, "x": 0}
                                    padding: dp(0),dp(10),dp(0),dp(10)
                                    height: self.minimum_height

                                    MDRaisedButton:
                                        size_hint: None, None
                                        valign: "center"
                                        size: dp(60), dp(45)
                                        md_bg_color: 1, 1, 1, 1
                                        line_color: 1, 0, 0, 1
                                        line_width: "1.1dp"
                                        on_release: app.put()
                                        BoxLayout:
                                            orientation: "vertical"
                                            padding: dp(5)
                                            spacing: dp(20)
                                            Label:
                                                id: day_label
                                                text: "Mon"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]
                                            Label:
                                                id: date_label
                                                text: "01"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]
                                    MDRaisedButton:
                                        size_hint: None, None
                                        valign: "center"
                                        size: dp(60), dp(45)
                                        md_bg_color: 1, 1, 1, 1
                                        line_color: 1, 0, 0, 1
                                        line_width: "1.1dp"
                                        BoxLayout:
                                            orientation: "vertical"
                                            padding: dp(5)
                                            spacing: dp(20)
                                            Label:
                                                id: day_label
                                                text: "Tue"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]
                                            Label:
                                                id: date_label
                                                text: "02"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]

                                    MDRaisedButton:
                                        size_hint: None, None
                                        valign: "center"
                                        size: dp(60), dp(45)
                                        md_bg_color: 1, 1, 1, 1
                                        line_color: 1, 0, 0, 1
                                        line_width: "1.1dp"
                                        BoxLayout:
                                            orientation: "vertical"
                                            padding: dp(5)
                                            spacing: dp(20)
                                            Label:
                                                id: day_label
                                                text: "Wed"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]
                                            Label:
                                                id: date_label
                                                text: "03"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]
                                    MDRaisedButton:
                                        size_hint: None, None
                                        valign: "center"
                                        size: dp(60), dp(45)
                                        md_bg_color: 1, 1, 1, 1
                                        line_color: 1, 0, 0, 1
                                        line_width: "1.1dp"
                                        BoxLayout:
                                            orientation: "vertical"
                                            padding: dp(5)
                                            spacing: dp(20)
                                            Label:
                                                id: day_label
                                                text: "Thu"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]
                                            Label:
                                                id: date_label
                                                text: "04"
                                                bold: True
                                                halign: "center"
                                                color: 0, 0, 0, 1
                                                height: self.texture_size[1]
                BoxLayout:
                    orientation: 'vertical'
                    spacing: 0
                    size_hint_y: None
                    height: dp(170)

                    MDCard:
                        orientation: 'vertical'
                        size_hint: None, None
                        spacing: 5
                        size: "280dp", "170dp"
                        size_hint: (1, 1)
                        elevation: 1
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                        BoxLayout:
                            orientation: 'horizontal'
                            padding: dp(2)
                            size_hint_y: None
                            height: "30dp"
                            pos_hint: {"top": 1}

                            MDLabel:
                                text: "Available Slots On: Mon 01"
                                font_name: "Roboto"
                                size_hint_x: 1
                                halign: "left"
                                valign: "top"
                                padding: dp(20)
                                bold: True
                                color: 1, 0, 0, 1
                                canvas:
                                    Color:
                                        rgba: 0, 0, 0, 1
                                    Line:
                                        points: [self.x, self.y - 2, self.x + self.width, self.y - 2]
                                        width: 1

                        BoxLayout:
                            orientation: 'vertical'
                            spacing: 0
                            size_hint_y: None
                            padding: dp(10),dp(0),dp(10),dp(20)
                            height: dp(130)
                            md_bg_color: 1, 1, 1, 1
#                            canvas.before:
#                                Color:
#                                    rgba: 1, 0, 0, 1  # Red color
#                                Rectangle:
#                                    pos: self.pos
#                                    size: self.size
                            GridLayout:
                                cols: 3
                                spacing: dp(15)
                                size_hint_y: None
                                pos_hint: {"center_x": 0.5, "x": 0}
                                height: self.minimum_height
#                                canvas.before:
#                                    Color:
#                                        rgba: 1, 0, 0, 1  # Red color
#                                    Rectangle:
#                                        pos: self.pos
#                                        size: self.size
                                MDFlatButton:
                                    size_hint: None, None
                                    size: dp(90), dp(40) # Adjusted size
                                    halign: "left"
                                    pos_hint: {'right': 1, 'y': 0}
                                    md_bg_color: 0, 0, 0, 0
                                    canvas.before:
                                        Color:
                                            rgba: 1, 0, 0, 1
                                        Line:
                                            width: 1.1
                                            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(30))
                                    MDLabel:
                                        text: "09:00 AM"
                                        font_name: "Roboto"
                                        halign: "center"
                                        color: 0.5, 0.5, 0.5, 1
                                        theme_text_color: "Custom"
                                MDFlatButton:
                                    size_hint: None, None
                                    size: dp(90), dp(40) # Adjusted size
                                    halign: "left"
                                    pos_hint: {'right': 1, 'y': 0}
                                    md_bg_color: 0, 0, 0, 0
                                    canvas.before:
                                        Color:
                                            rgba: 1, 0, 0, 1
                                        Line:
                                            width: 1.1
                                            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(30))
                                    MDLabel:
                                        text: "11:00 AM"
                                        font_name: "Roboto"
                                        halign: "center"
                                        color: 0.5, 0.5, 0.5, 1
                                        theme_text_color: "Custom"
                                MDFlatButton:
                                    size_hint: None, None
                                    size: dp(90), dp(40) # Adjusted size
                                    halign: "left"
                                    pos_hint: {'right': 1, 'y': 0}
                                    md_bg_color: 0, 0, 0, 0
                                    canvas.before:
                                        Color:
                                            rgba: 1, 0, 0, 1
                                        Line:
                                            width: 1.1
                                            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(30))
                                    MDLabel:
                                        text: "01:00 PM"
                                        font_name: "Roboto"
                                        halign: "center"
                                        color: 0.5, 0.5, 0.5, 1
                                        theme_text_color: "Custom"
                                MDFlatButton:
                                    size_hint: None, None
                                    size: dp(90), dp(40) # Adjusted size
                                    halign: "left"
                                    pos_hint: {'right': 1, 'y': 0}
                                    md_bg_color: 0, 0, 0, 0
                                    canvas.before:
                                        Color:
                                            rgba: 1, 0, 0, 1
                                        Line:
                                            width: 1.1
                                            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(30))
                                    MDLabel:
                                        text: "03:00 PM"
                                        font_name: "Roboto"
                                        halign: "center"
                                        color: 0.5, 0.5, 0.5, 1
                                        theme_text_color: "Custom"

                                MDFlatButton:
                                    size_hint: None, None
                                    size: dp(90), dp(40) # Adjusted size
                                    halign: "left"
                                    pos_hint: {'right': 1, 'y': 0}
                                    md_bg_color: 0, 0, 0, 0
                                    canvas.before:
                                        Color:
                                            rgba: 1, 0, 0, 1
                                        Line:
                                            width: 1.1
                                            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(30))
                                    MDLabel:
                                        text: "05:00 PM"
                                        font_name: "Roboto"
                                        halign: "center"
                                        color: 0.5, 0.5, 0.5, 1
                                        theme_text_color: "Custom"
                                MDFlatButton:
                                    size_hint: None, None
                                    size: dp(90), dp(40) # Adjusted size
                                    halign: "left"
                                    pos_hint: {'right': 1, 'y': 0}
                                    md_bg_color: 0, 0, 0, 0
                                    canvas.before:
                                        Color:
                                            rgba: 1, 0, 0, 1
                                        Line:
                                            width: 1.1
                                            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(30))
                                    MDLabel:
                                        text: "07:00 PM"
                                        font_name: "Roboto"
                                        halign: "center"
                                        color: 0.5, 0.5, 0.5, 1
                                        theme_text_color: "Custom"
        Button:
            id: book_slot
            text: "Pay Now"
            size_hint_y:.1
            background_color: 0, 0, 0, 0
            font_name: "Roboto"
            bold: True
            on_release:
                root.pay_now(self)
            canvas.before:
                Color:
                    rgb: rgba(255, 0, 0, 255)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0]